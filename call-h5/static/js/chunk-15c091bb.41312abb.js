(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15c091bb"],{"1a47":function(t,e,n){},"386f":function(t,e,n){"use strict";var r=n("c604"),a=n.n(r);a.a},"4e6a":function(t,e,n){"use strict";var r=n("1a47"),a=n.n(r);a.a},"7af8":function(t,e,n){"use strict";var r=n("b270"),a=n.n(r);a.a},"95f3":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-wrap"},[n("div",{staticClass:"form-wrap__content",class:t.background?"form-wrap__content--bg":""},[t._t("default")],2),t.$slots.footer||t.$slots["footer-buttons"]?n("div",{staticClass:"form-wrap__footer"},[t._t("footer"),n("div",{staticClass:"form-wrap__footer-buttons"},[t._t("footer-buttons")],2)],2):t._e()])},a=[],o={name:"LayoutForm",props:{background:{type:Boolean,default:!1}}},s=o,c=(n("4e6a"),n("2877")),u=Object(c["a"])(s,r,a,!1,null,"f4e1cd2e",null);e["a"]=u.exports},a15b:function(t,e,n){"use strict";var r=n("23e7"),a=n("44ad"),o=n("fc6a"),s=n("a640"),c=[].join,u=a!=Object,i=s("join",",");r({target:"Array",proto:!0,forced:u||!i},{join:function(t){return c.call(o(this),void 0===t?",":t)}})},a55b:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("layout-form",{staticClass:"login",scopedSlots:t._u([{key:"footer-buttons",fn:function(){return[r("b-button",{attrs:{block:""},on:{click:function(e){return t.$refs.formRef.submit()}}},[t._v(" 登录 ")])]},proxy:!0}])},[r("van-image",{staticClass:"login__logo",attrs:{width:"100",height:"100",src:n("cf05")}}),r("van-form",{ref:"formRef",on:{submit:t.onSubmit}},[r("b-form-field",{attrs:{name:"username",label:"账号",placeholder:"请输入账号",rules:t.rules.username},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username","string"===typeof e?e.trim():e)},expression:"form.username"}}),r("b-form-field",{attrs:{name:"password",label:"密码",placeholder:"请输入密码",type:"password",rules:t.rules.password},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}})],1)],1)},a=[],o=(n("96cf"),n("1da1")),s=n("5530"),c=n("2f62"),u=n("2b61"),i=n("f012"),l=n("ebaa"),f=n("0428"),d=n("95f3"),p={name:"Login",components:{LayoutForm:d["a"],BButton:i["a"],BFormField:l["a"]},data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0}],password:[{required:!0}]}}},methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["setUserInfo"])),{},{onSubmit:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$refs.formRef.resetValidation(),n.next=3,e.$api.account.login(t.username,t.password);case 3:if(r=n.sent,!r.isOk()){n.next=13;break}return a=r.data,o=a.obj,o&&Object(u["c"])(f["a"].tokenKey,o.token),e.setUserInfo(o),n.next=11,e.$router.push("/home");case 11:n.next=14;break;case 13:r.alertMessage();case 14:case"end":return n.stop()}}),n)})))()}})},b=p,m=(n("386f"),n("2877")),_=Object(m["a"])(b,r,a,!1,null,"33d4fe7e",null);e["default"]=_.exports},b270:function(t,e,n){},c604:function(t,e,n){},c97e:function(t,e,n){"use strict";var r=n("e64b"),a=n.n(r);a.a},cc03:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"static/img/logo.2caa1e2a.png"},de3f:function(t,e,n){"use strict";var r=n("cc03"),a=n.n(r);a.a},e64b:function(t,e,n){},e6e3:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-icon"},[t.icon?n("i",{staticClass:"b-icon__i",style:t.style}):n("van-icon",{staticClass:"b-icon__vant",attrs:{name:t.name}})],1)},a=[],o={name:"BIcon",props:{name:{type:String,required:!0}},data:function(){return{icons:{}}},computed:{icon:function(){return null},style:function(){return this.icon?{backgroundImage:"url(".concat(this.icon,")")}:null}}},s=o,c=(n("de3f"),n("2877")),u=Object(c["a"])(s,r,a,!1,null,"488871fb",null);e["a"]=u.exports},ebaa:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-field",t._g(t._b({staticClass:"b-form-field",attrs:{placeholder:t.showPlaceholder?t.placeholder:""},scopedSlots:t._u([t.icon?{key:"left-icon",fn:function(){return[n("b-icon",{attrs:{name:t.icon}})]},proxy:!0}:null,t.$slots.label||t.label?{key:"label",fn:function(){return[n("div",{class:t.required?"b-form-field__required":""},[t._v(" "+t._s(t.label)+" ")])]},proxy:!0}:null,t.$slots.input?{key:"input",fn:function(){return[t._t("input")]},proxy:!0}:null,t.$slots.button?{key:"button",fn:function(){return[t._t("button")]},proxy:!0}:null],null,!0)},"van-field",t.$attrs,!1),t.$listeners))},a=[],o=n("e6e3"),s={name:"BFormField",components:{BIcon:o["a"]},props:{showPlaceholder:{type:Boolean,default:!0},placeholder:{type:String},required:{type:Boolean,default:!1},label:{type:String,default:""},icon:{type:String},vantIcon:{type:Boolean,default:!1}}},c=s,u=(n("c97e"),n("2877")),i=Object(u["a"])(c,r,a,!1,null,"465dea52",null);e["a"]=i.exports},f012:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-button",t._g(t._b({staticClass:"b-button",class:t.className,attrs:{round:t.round}},"van-button",t.$attrs,!1),t.$listeners),[t._t("default")],2)},a=[],o=(n("a15b"),{name:"BButton",props:{round:{type:Boolean,default:!0},gradient:{type:Boolean,default:!0}},computed:{className:function(){var t=[];return this.gradient&&t.push("b-button__gradient"),t.join(" ")}}}),s=o,c=(n("7af8"),n("2877")),u=Object(c["a"])(s,r,a,!1,null,"c273f2aa",null);e["a"]=u.exports}}]);